import{S as r}from"./sweetalert2.all-6567ce3e.js";import{_ as m,r as l,o as u,c as v,b as t,d as n,w as c,E as k,f,e as i}from"./index-ea9b93d2.js";import"./_commonjsHelpers-042e6b4d.js";const{VITE_URL:d}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"youting",BASE_URL:"/cafe-ecommerce/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},g={data(){return{status:!1}},methods:{checkLogin(){var s;const o=(s=document.cookie.split("; ").find(e=>e.startsWith("hexschoolToken")))==null?void 0:s.split("=")[1];this.$http.defaults.headers.common.Authorization=o,this.$http.post(`${d}/v2/api/user/check`).then(e=>{e.data.success&&(this.status=!0,this.$router.push("/admin"))}).catch(e=>{r.fire({icon:"error",title:"請重試一次",text:e.response.data.message}),this.$router.push("/login")})},logOut(){this.$http.post(`${d}/v2/logout`).then(()=>{document.cookie="hexschoolToken=; expires=};",this.$router.push("/")}).catch(o=>{r.fire({icon:"error",title:"請重試一次",text:o.response.data.message}),this.$router.push("/login")})}},created(){this.checkLogin()}},b={class:"navbar navbar-expand-lg navbar-dark bg-dark"},x={class:"container"},V={class:"collapse navbar-collapse",id:"navbarNav"},$={class:"navbar-nav"},R={class:"nav-item"},E={class:"nav-item"},L={class:"nav-item"},T={class:"nav-item"},B={class:"container mt-3"};function w(o,s,e,N,h,_){const a=l("RouterLink"),p=l("RouterView");return u(),v("div",null,[t("nav",b,[t("div",x,[t("div",V,[t("ul",$,[t("li",R,[n(a,{class:"nav-link",to:"/admin"},{default:c(()=>[i("產品列表")]),_:1})]),t("li",E,[n(a,{class:"nav-link",to:"/admin/coupons"},{default:c(()=>[i("優惠券列表")]),_:1})]),t("li",L,[n(a,{class:"nav-link",to:"/admin/orders"},{default:c(()=>[i("訂單列表")]),_:1})]),t("li",T,[n(a,{class:"nav-link",to:"/"},{default:c(()=>[i("回前台")]),_:1})])]),t("button",{type:"button",class:"btn btn-light ms-auto",onClick:s[0]||(s[0]=()=>_.logOut())},"登出")])])]),t("div",B,[h.status?(u(),k(p,{key:0})):f("",!0)])])}const O=m(g,[["render",w]]);export{O as default};
